# 1 初识初链
初链（trueChain），基于混合共识机制设计的去中心化应用公链，其目的在于为社会提供高速点对点通信，价值传输以及智能合约基础设施。  
初链采用了水果链（FruitChain）的设计来保证在挖矿过程中所有参与者的公平性。这是一种全新的设计挖矿的设计理念，称之为FPOW。这种设计有效的解决了算力差距导致的小算力矿工挖不到矿的不足，保证了所有矿工的公平性，因为在挖矿过程中挖到相对简单的水果（fruit）也是有奖励的。挖到的水果称之为水果链（FruitChain）。    
下面我粗略的整理了下初链的挖矿大致的流程。  
# 2 FPOW挖矿过程
为了便于理解这个过程，我手绘了如下图所示的流程图。
![image](https://note.youdao.com/yws/api/personal/file/3B1FD5637EE2445994D03CA9F69722D0?method=download&shareKey=9848b2c33035eb895d3db80224f251ab)
我们从这个流程图可以很清晰的看出整个挖矿的一个过程。
1. 矿工开始挖矿，当矿工挖出来矿之后进入第二步。
2. 判断挖出来的矿的类型，这里为嘛把矿石分为两种，一种的大区块（block），另一种是水果（fruit）。很显然，挖到两种矿的概率是不一样的，两者的难度本身就不一样，水果的难度相对要小很多。首先我们判断挖出来的矿是不是块，如果是，转到第5步。如果不是块，进入第3步。
3. 判断是否是水果，即hash值符合水果的难度。如果男足，那么恭喜你挖到的是水果，进入第4步，如果不符合，那么你挖出来的就是没有价值的hash，回到第一步开始重新挖。
4. 这时因为挖到的是水果，所以还不能上链，那么我们挖的水果怎么处理呢？难道要抛弃么？当然不是。这一步把挖到的水果放到本地的一个水果池（fruit pool）中，备用。接下来回到第一步重新开始挖矿。
5. 挖到了块，将之前挖到的水果从水果池中取出来组成大区块，上链，并结束挖矿的流程。  

在整个挖矿的过程中，PBFT生产大区块，而水果链负责将大区块分成若干个水果，这些水果具有保鲜期，每个水果中记录了若干条交易信息，普通挖矿只用验证这些交易信息即可，并不需要投入大量的挖矿设备、电力和带宽，水果链的轻节点设计理念，可以让普通参与者使用普通的计算机，甚至于使用手机就能实现挖矿。不管是挖到了水果还是块，都有奖励的，这样做的特点是公平可靠。  
以上是我对初链挖矿流程的一点整理，希望对学习初链的小伙伴们有点帮助，如果存在不正确或不完善的地方欢迎小伙伴们指正。
